define("linkify-string",["exports","module","./linkify"],function(e,r,t){"use strict";function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(e){return e.replace(/"/g,"&quot;")}function i(e){if(!e)return"";var r=[];for(var t in e){var n=(e[t]+"").replace(/"/g,"&quot;");r.push(""+t+'="'+o(n)+'"')}return r.join(" ")}function a(e){var r=void 0===arguments[1]?{}:arguments[1];r=s.normalize(r);for(var t=l(e),a=[],p=0;p<t.length;p++){var u=t[p];if(u.isLink){var f=s.resolve(r.tagName,u.type),g=s.resolve(r.linkClass,u.type),v=s.resolve(r.target,u.type),c=s.resolve(r.format,u.toString(),u.type),y=u.toHref(r.defaultProtocol),m=s.resolve(r.formatHref,y,u.type),k=s.resolve(r.attributes,u.type),h="<"+f+' href="'+o(m)+'" class="'+g+'"';v&&(h+=' target="'+v+'"'),k&&(h+=" "+i(k)),h+=">"+n(c)+"</"+f+">",a.push(h)}else a.push("nl"===u.type&&r.nl2br?r.newLine?r.newLine:"<br>\n":n(u.toString()))}return a.join("")}var l=t.tokenize,s=t.options;String.prototype.linkify||(String.prototype.linkify=function(e){return a(this,e)}),r.exports=a});