define("linkify-element",["exports","module","./linkify"],function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e.replaceChild(r,t);for(var o=n.length-2;o>=0;o--)e.insertBefore(n[o],r),r=n[o]}function o(e,t,r){for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a.isLink){var s=a.toHref(t.defaultProtocol),l=n.options.resolve(t.format,a.toString(),a.type),p=n.options.resolve(t.formatHref,s,a.type),f=n.options.resolve(t.attributes,s,a.type),u=n.options.resolve(t.tagName,s,a.type),d=n.options.resolve(t.linkClass,s,a.type),v=n.options.resolve(t.target,s,a.type),c=n.options.resolve(t.events,s,a.type),m=r.createElement(u);if(m.setAttribute("href",p),m.setAttribute("class",d),v&&m.setAttribute("target",v),f)for(var h in f)m.setAttribute(h,f[h]);if(c)for(var y in c)m.addEventListener?m.addEventListener(y,c[y]):m.attachEvent&&m.attachEvent("on"+y,c[y]);m.appendChild(r.createTextNode(l)),o.push(m)}else o.push("nl"===a.type&&t.nl2br?r.createElement("br"):r.createTextNode(a.toString()))}return o}function i(e,t,a){if(!e||"object"!=typeof e||e.nodeType!==s)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");if("A"===e.tagName)return e;for(var p=[],f=e.firstChild;f;){switch(f.nodeType){case s:p.push(i(f,t,a));break;case l:var u=f.nodeValue,d=n.tokenize(u),v=o(d,t,a);r(e,f,v),f=v[v.length-1];break;default:p.push(f)}f=f.nextSibling}return e}function a(e,t){var r=void 0===arguments[2]?null:arguments[2];try{r=r||window&&window.document||global&&global.document}catch(o){}if(!r)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return t=n.options.normalize(t),i(e,t,r)}var s=1,l=3;a.helper=i,a.normalize=n.options.normalize,t.exports=a});