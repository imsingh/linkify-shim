define("linkify-element",["exports","module","./linkify"],function(e,t,n){"use strict";function o(e,t,n){var o=n[n.length-1];e.replaceChild(o,t);for(var r=n.length-2;r>=0;r--)e.insertBefore(n[r],o),o=n[r]}function r(e,t,o){for(var r=[],i=0;i<e.length;i++){var a=e[i];if(a.isLink){var l=a.toHref(t.defaultProtocol),s=n.options.resolve(t.format,a.toString(),a.type),f=n.options.resolve(t.formatHref,l,a.type),p=n.options.resolve(t.attributes,l,a.type),u=n.options.resolve(t.tagName,l,a.type),d=n.options.resolve(t.linkClass,l,a.type),v=n.options.resolve(t.target,l,a.type),c=n.options.resolve(t.events,l,a.type),m=o.createElement(u);if(m.setAttribute("href",f),m.setAttribute("class",d),v&&m.setAttribute("target",v),p)for(var h in p)m.setAttribute(h,p[h]);if(c)for(var y in c)m.addEventListener?m.addEventListener(y,c[y]):m.attachEvent&&m.attachEvent("on"+y,c[y]);m.appendChild(o.createTextNode(s)),r.push(m)}else r.push("nl"===a.type&&t.nl2br?o.createElement("br"):o.createTextNode(a.toString()))}return r}function i(e,t,a){if(!e||"object"!=typeof e||e.nodeType!==l)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");if("A"===e.tagName)return e;for(var f=e.firstChild;f;){switch(f.nodeType){case l:i(f,t,a);break;case s:var p=f.nodeValue,u=n.tokenize(p),d=r(u,t,a);o(e,f,d),f=d[d.length-1]}f=f.nextSibling}return e}function a(e,t){var o=void 0===arguments[2]?null:arguments[2];try{o=o||window&&window.document||global&&global.document}catch(r){}if(!o)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return t=n.options.normalize(t),i(e,t,o)}var l=1,s=3;a.helper=i,a.normalize=n.options.normalize,t.exports=a});