!function(t){"use strict";function n(t){return"url"===t?"_blank":null}function i(t){if(!t)return"";var n=[];for(var i in t){var r=(t[i]+"").replace(/"/g,"&quot;");n.push(""+i+'="'+r+'"')}return n.join(" ")}function r(t,r){r=r||{};var o=r.defaultProtocol||"http",l=r.tagName||"a",u=r.target||n,f=r.newLine||!1,a=!!f||r.nl2br||!1,s=r.format||null,p=r.linkAttributes||null,c="linkified",y=[];r.linkClass&&(c+=" "+r.linkClass);for(var k=e(t),g=0;g<k.length;g++){var v=k[g];if(v.isLink){var h="<"+l+' href="'+v.toHref(o)+'" class="'+c+'"',w="function"==typeof u?u(v.type):u,S="function"==typeof p?p(v.type):p;w&&(h+=' target="'+w+'"'),S&&(h+=" "+i(S)),h+=">",h+="function"==typeof s?s(v.toString(),v.type):v.toString(),h+="</"+l+">",y.push(h)}else y.push("nl"===v.type&&a?f?f:"<br>\n":v.toString())}return y.join("")}var e=t.tokenize;window.linkifyStr=r,String.prototype.linkify=function(t){return r(this,t)}}(window.linkify);